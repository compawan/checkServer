<!DOCTYPE html>
<html>
  <head>
    <title>Remote Control</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  </head>
  <body>
    <img src="http://checkserver-rmqt.onrender.com/stream/7052" />

    <script>
  const socket = io("https://checkserver-rmqt.onrender.com");
  const img = document.getElementById("screen");
  const deviceId = "7052";  // hardcoded for testing
  // You can set your offsets here:
  const xOffset = -20;    // shift 50px left
  const yOffset = 28;   // shift 30px bottom

      /*
  img.addEventListener("click", e => {
    const correctedX = e.offsetX + xOffset;
    const correctedY = e.offsetY + yOffset;

    socket.emit("touch", {
      type: "tap",
      x: correctedX,
      y: correctedY
    });
  });

      // listen for keypress events on the document
      document.addEventListener("keydown", e => {
        console.log(`Key pressed: ${e.key}`);

        // send key event to the Android side
        socket.emit("key", {
          key: e.key,
          code: e.code,
          keyCode: e.keyCode
        });
      });  */

      img.addEventListener("click", e => {
  const correctedX = e.offsetX + xOffset;
  const correctedY = e.offsetY + yOffset;

  socket.emit("touch", {
    deviceId: "7052",
    type: "tap",
    x: correctedX,
    y: correctedY
  });
});

document.addEventListener("keydown", e => {
  console.log(`Key pressed: ${e.key}`);
  socket.emit("key", {
    deviceId: deviceId,
    key: e.key,
    code: e.code,
    keyCode: e.keyCode
  });
});
</script>

  </body>
</html>
